# api_yamdb
api_yamdb
Проект API Yamdb - api для сайта с отзывами на кино, книги и музыку.

Здесь вы можете создавать оставлять отзывы и рейтинг на произведения, а также комментировать отзывы.

Этот репозиторий содержит урезанную версию проекта: в составе готовое API для взаимодействия с проектом. 

Возможности API:

Регистрация пользователей и токен авторизации (Simple JWT).
Получение, создание, обновление, удаление учетных записей.
Получение, создание, обновление, удаление произведений.
Получение, создание, удаление категорий произведений и их жанров.
Получение, создание, обновление, удаление отзывов и комментариев.

Технологии

Python 3.9.8
Django 2.2.28

Как запустить проект:

Клонировать репозиторий и перейти в него в командной строке:

git clone https://github.com/schactye/api_yamdb.git
cd api_yamdb
Cоздать и активировать виртуальное окружение:

python -m venv env
source env/bin/activate
Установить зависимости из файла requirements.txt:

python -m pip install --upgrade pip
pip install -r requirements.txt
Выполнить миграции:

python manage.py migrate
Указать собственный Django SECRET_KEY:

Создать файл .env в директории /api_yamdb/api_yamdb/ и прописать в нем:
SECRET_KEY=*ваш ключ из 50ти символов*
Запустить проект:

python manage.py runserver

Импорт данных из csv для наполнения базы:

После развертывания проекта перейдите:

cd api_yamdb
Запустите команду импорта:

python manage.py load_csv_data
В терминале отобразится результат импорта.
Если какой-либо из файлов отсутствует, то он не будет импортирован.

Примеры файлов csv для наполнения базы находятся в папке /static/data/*.csv:

users.csv - файл для заполнения таблицы пользователей
titles.csv - файл для заполнения таблицы произведений.
category.csv - файл для заполнения таблицы категорий произведений.
genre.csv - файл для заполнения таблицы жанров произведений.
genre_title.csv - файл для заполнения таблицы Many-to-Many: одно произведение может иметь несколько жанров.
review.csv - файл для заполнения таблицы отзывов к произведениям.
comments.csv - файл для заполнения таблицы комментариев к отзывам.
